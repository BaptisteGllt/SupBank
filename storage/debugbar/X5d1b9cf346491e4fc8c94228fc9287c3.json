{"__meta":{"id":"X5d1b9cf346491e4fc8c94228fc9287c3","datetime":"2019-06-07 01:04:14","utime":1559869454.3692,"method":"POST","uri":"\/api\/findOrCreateUserFacebook","ip":"85.168.175.131"},"php":{"version":"7.2.19-0ubuntu0.18.04.1","interface":"apache2handler"},"messages":{"count":1,"messages":[{"message":"[01:04:14] LOG.error: SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'clem.spartan@gmail.com' for key 'users_email_unique' (SQL: insert into `users` (`name`, `provider`, `email`, `provider_id`, `avatar`, `updated_at`, `created_at`) values (Cl\u00e9ment Dutoit, Facebook, clem.spartan@gmail.com, 2622641081113553, https:\/\/platform-lookaside.fbsbx.com\/platform\/profilepic\/2019-06-07 01:04:14asid=2622641081113553&height=50&width=50&ext=1562461454&hash=AeTfHWM36hhREBNS, 2019-06-07 01:04:14, ?)) {\"exception\":{\"errorInfo\":[\"23000\",1062,\"Duplicate entry 'clem.spartan@gmail.com' for key 'users_email_unique'\"]}}","message_html":null,"is_string":false,"label":"error","time":1559869454.333998,"collector":"log"}]},"time":{"start":1559869454.199,"end":1559869454.369219,"duration":0.17021918296813965,"duration_str":"170.22ms","measures":[{"label":"Booting","start":1559869454.199,"relative_start":0,"end":1559869454.205565,"relative_end":1559869454.205565,"duration":0.006565093994140625,"duration_str":"6.57ms","params":[],"collector":null},{"label":"Application","start":1559869454.205682,"relative_start":0.006682157516479492,"end":1559869454.369222,"relative_end":2.86102294921875e-6,"duration":0.16353988647460938,"duration_str":"163.54ms","params":[],"collector":null}]},"memory":{"peak_usage":6829632,"peak_usage_str":"6.51MB"},"exceptions":{"count":2,"exceptions":[{"type":"Illuminate\\Database\\QueryException","message":"SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'clem.spartan@gmail.com' for key 'users_email_unique' (SQL: insert into `users` (`name`, `provider`, `email`, `provider_id`, `avatar`, `updated_at`, `created_at`) values (Cl\u00e9ment Dutoit, Facebook, clem.spartan@gmail.com, 2622641081113553, https:\/\/platform-lookaside.fbsbx.com\/platform\/profilepic\/2019-06-07 01:04:14asid=2622641081113553&height=50&width=50&ext=1562461454&hash=AeTfHWM36hhREBNS, 2019-06-07 01:04:14, ?))","code":"23000","file":"\/var\/www\/html\/SupFile\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connection.php","line":664,"surrounding_lines":["        \/\/ message to include the bindings with SQL, which will make this exception a\n","        \/\/ lot more helpful to the developer instead of just the database's errors.\n","        catch (Exception $e) {\n","            throw new QueryException(\n","                $query, $this->prepareBindings($bindings), $e\n","            );\n","        }\n"],"xdebug_link":null},{"type":"PDOException","message":"SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry 'clem.spartan@gmail.com' for key 'users_email_unique'","code":"23000","file":"\/var\/www\/html\/SupFile\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connection.php","line":458,"surrounding_lines":["\n","            $this->recordsHaveBeenModified();\n","\n","            return $statement->execute();\n","        });\n","    }\n","\n"],"xdebug_link":null}]},"views":{"nb_templates":0,"templates":[]},"route":{"uri":"POST api\/findOrCreateUserFacebook","middleware":"api","controller":"App\\Http\\Controllers\\Api\\UserController@findOrCreateUserFacebook","namespace":"App\\Http\\Controllers","prefix":"api","where":[],"file":"app\/Http\/Controllers\/Api\/UserController.php:441-482"},"queries":{"nb_statements":1,"nb_failed_statements":0,"accumulated_duration":0.0013,"accumulated_duration_str":"1.3ms","statements":[{"sql":"select * from `users` where `provider_id` = '2622641081113553' limit 1","type":"query","params":[],"bindings":["2622641081113553"],"hints":["Use <code>SELECT *<\/code> only if you need all columns from table","<code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"],"backtrace":[{"index":15,"namespace":null,"name":"\/app\/Http\/Controllers\/Api\/UserController.php","line":465},{"index":18,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/ControllerDispatcher.php","line":45},{"index":19,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Route.php","line":219},{"index":20,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Route.php","line":176},{"index":21,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php","line":682},{"index":22,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php","line":30},{"index":23,"namespace":"middleware","name":"bindings","line":41},{"index":24,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php","line":163},{"index":25,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php","line":53},{"index":26,"namespace":"middleware","name":"throttle","line":58},{"index":27,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php","line":163},{"index":28,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php","line":53},{"index":29,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php","line":104},{"index":30,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php","line":684},{"index":31,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php","line":659},{"index":32,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php","line":625},{"index":33,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Router.php","line":614},{"index":34,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Kernel.php","line":176},{"index":35,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php","line":30},{"index":37,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php","line":163},{"index":38,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php","line":53},{"index":39,"namespace":null,"name":"\/vendor\/fideloper\/proxy\/src\/TrustProxies.php","line":57},{"index":40,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php","line":163},{"index":41,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php","line":53},{"index":42,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Middleware\/TransformsRequest.php","line":31},{"index":43,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php","line":163},{"index":44,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php","line":53},{"index":45,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Middleware\/TransformsRequest.php","line":31},{"index":46,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php","line":163},{"index":47,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Routing\/Pipeline.php","line":53},{"index":48,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Foundation\/Http\/Middleware\/ValidatePostSize.php","line":27},{"index":49,"namespace":null,"name":"\/vendor\/laravel\/framework\/src\/Illuminate\/Pipeline\/Pipeline.php","line":163}],"duration":0.0013,"duration_str":"1.3ms","stmt_id":"\/app\/Http\/Controllers\/Api\/UserController.php:465","connection":"supbankdb_"}]},"swiftmailer_mails":{"count":0,"mails":[]},"auth":{"guards":{"web":"array:2 [\n  \"name\" => \"Guest\"\n  \"user\" => array:1 [\n    \"guest\" => true\n  ]\n]","api":"array:2 [\n  \"name\" => \"Guest\"\n  \"user\" => array:1 [\n    \"guest\" => true\n  ]\n]"},"names":""},"gate":{"count":0,"messages":[]},"session":{"_token":"oncr7amAXrkIHSoH0p07nr2z4H0hQ6mP7uvH5tWf","PHPDEBUGBAR_STACK_DATA":"[]"},"request":{"path_info":"\/api\/findOrCreateUserFacebook","status_code":"<pre class=sf-dump id=sf-dump-1275143682 data-indent-pad=\"  \"><span class=sf-dump-num>500<\/span>\n<\/pre><script>Sfdump(\"sf-dump-1275143682\", {\"maxDepth\":0})<\/script>\n","status_text":"Internal Server Error","format":"html","content_type":"text\/html; charset=UTF-8","request_query":"<pre class=sf-dump id=sf-dump-1307846337 data-indent-pad=\"  \">[]\n<\/pre><script>Sfdump(\"sf-dump-1307846337\", {\"maxDepth\":0})<\/script>\n","request_request":"<pre class=sf-dump id=sf-dump-257082890 data-indent-pad=\"  \"><span class=sf-dump-note>array:2<\/span> [<samp>\n  \"<span class=sf-dump-key>facebook_id<\/span>\" => \"<span class=sf-dump-str title=\"16 characters\">2622641081113553<\/span>\"\n  \"<span class=sf-dump-key>access_token<\/span>\" => \"<span class=sf-dump-str title=\"231 characters\">EAAM2NDmiV54BAMGQ8F6hI5GeBCyMlkGzMzxNe2FdlJbGHlZB5a2dhZBEFsdv2xjSWhzjjYf83hBh75SawZCoQN9gQ4ZAqg5yKDLsq5lsTZBcD4ZBu1jHn76upGR4FXatr9dTshoTYZB6SMtO4rxGU6TnhPsMARUOuBPXAObl91f7vTfsdXfpp5Ymku3QTBnZBvD6LiUexhhdOG1ZCF13Qz6HhSl4HSUM5d2EZD<\/span>\"\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-257082890\", {\"maxDepth\":0})<\/script>\n","request_headers":"<pre class=sf-dump id=sf-dump-1346125350 data-indent-pad=\"  \"><span class=sf-dump-note>array:7<\/span> [<samp>\n  \"<span class=sf-dump-key>home<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"29 characters\">\/var\/www\/html\/SupFile\/public\/<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>content-type<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"31 characters\">application\/json; charset=utf-8<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>user-agent<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"71 characters\">Dalvik\/2.1.0 (Linux; U; Android 9; ONEPLUS A5010 Build\/PKQ1.180716.001)<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>host<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"10 characters\">supbank.fr<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>connection<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"10 characters\">Keep-Alive<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>accept-encoding<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"4 characters\">gzip<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>content-length<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"3 characters\">283<\/span>\"\n  <\/samp>]\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-1346125350\", {\"maxDepth\":0})<\/script>\n","request_server":"<pre class=sf-dump id=sf-dump-542595124 data-indent-pad=\"  \"><span class=sf-dump-note>array:39<\/span> [<samp>\n  \"<span class=sf-dump-key>REDIRECT_HOME<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">\/var\/www\/html\/SupFile\/public\/<\/span>\"\n  \"<span class=sf-dump-key>REDIRECT_HTTP_HOME<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">\/var\/www\/html\/SupFile\/public\/<\/span>\"\n  \"<span class=sf-dump-key>REDIRECT_HTTPS<\/span>\" => \"<span class=sf-dump-str title=\"2 characters\">on<\/span>\"\n  \"<span class=sf-dump-key>REDIRECT_SSL_TLS_SNI<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">supbank.fr<\/span>\"\n  \"<span class=sf-dump-key>REDIRECT_STATUS<\/span>\" => \"<span class=sf-dump-str title=\"3 characters\">200<\/span>\"\n  \"<span class=sf-dump-key>HOME<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">\/var\/www\/html\/SupFile\/public\/<\/span>\"\n  \"<span class=sf-dump-key>HTTP_HOME<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">\/var\/www\/html\/SupFile\/public\/<\/span>\"\n  \"<span class=sf-dump-key>HTTPS<\/span>\" => \"<span class=sf-dump-str title=\"2 characters\">on<\/span>\"\n  \"<span class=sf-dump-key>SSL_TLS_SNI<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">supbank.fr<\/span>\"\n  \"<span class=sf-dump-key>CONTENT_TYPE<\/span>\" => \"<span class=sf-dump-str title=\"31 characters\">application\/json; charset=utf-8<\/span>\"\n  \"<span class=sf-dump-key>HTTP_USER_AGENT<\/span>\" => \"<span class=sf-dump-str title=\"71 characters\">Dalvik\/2.1.0 (Linux; U; Android 9; ONEPLUS A5010 Build\/PKQ1.180716.001)<\/span>\"\n  \"<span class=sf-dump-key>HTTP_HOST<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">supbank.fr<\/span>\"\n  \"<span class=sf-dump-key>HTTP_CONNECTION<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">Keep-Alive<\/span>\"\n  \"<span class=sf-dump-key>HTTP_ACCEPT_ENCODING<\/span>\" => \"<span class=sf-dump-str title=\"4 characters\">gzip<\/span>\"\n  \"<span class=sf-dump-key>CONTENT_LENGTH<\/span>\" => \"<span class=sf-dump-str title=\"3 characters\">283<\/span>\"\n  \"<span class=sf-dump-key>PATH<\/span>\" => \"<span class=sf-dump-str title=\"60 characters\">\/usr\/local\/sbin:\/usr\/local\/bin:\/usr\/sbin:\/usr\/bin:\/sbin:\/bin<\/span>\"\n  \"<span class=sf-dump-key>SERVER_SIGNATURE<\/span>\" => \"<span class=sf-dump-str title=\"72 characters\">&lt;address&gt;Apache\/2.4.29 (Ubuntu) Server at supbank.fr Port 443&lt;\/address&gt;<span class=\"sf-dump-default sf-dump-ns\">\\n<\/span><\/span>\"\n  \"<span class=sf-dump-key>SERVER_SOFTWARE<\/span>\" => \"<span class=sf-dump-str title=\"22 characters\">Apache\/2.4.29 (Ubuntu)<\/span>\"\n  \"<span class=sf-dump-key>SERVER_NAME<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">supbank.fr<\/span>\"\n  \"<span class=sf-dump-key>SERVER_ADDR<\/span>\" => \"<span class=sf-dump-str title=\"13 characters\">172.31.42.142<\/span>\"\n  \"<span class=sf-dump-key>SERVER_PORT<\/span>\" => \"<span class=sf-dump-str title=\"3 characters\">443<\/span>\"\n  \"<span class=sf-dump-key>REMOTE_ADDR<\/span>\" => \"<span class=sf-dump-str title=\"14 characters\">85.168.175.131<\/span>\"\n  \"<span class=sf-dump-key>DOCUMENT_ROOT<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">\/var\/www\/html\/SupFile\/public\/<\/span>\"\n  \"<span class=sf-dump-key>REQUEST_SCHEME<\/span>\" => \"<span class=sf-dump-str title=\"5 characters\">https<\/span>\"\n  \"<span class=sf-dump-key>CONTEXT_PREFIX<\/span>\" => \"\"\n  \"<span class=sf-dump-key>CONTEXT_DOCUMENT_ROOT<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">\/var\/www\/html\/SupFile\/public\/<\/span>\"\n  \"<span class=sf-dump-key>SERVER_ADMIN<\/span>\" => \"<span class=sf-dump-str title=\"18 characters\">[no address given]<\/span>\"\n  \"<span class=sf-dump-key>SCRIPT_FILENAME<\/span>\" => \"<span class=sf-dump-str title=\"38 characters\">\/var\/www\/html\/SupFile\/public\/index.php<\/span>\"\n  \"<span class=sf-dump-key>REMOTE_PORT<\/span>\" => \"<span class=sf-dump-str title=\"5 characters\">43715<\/span>\"\n  \"<span class=sf-dump-key>REDIRECT_URL<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">\/api\/findOrCreateUserFacebook<\/span>\"\n  \"<span class=sf-dump-key>GATEWAY_INTERFACE<\/span>\" => \"<span class=sf-dump-str title=\"7 characters\">CGI\/1.1<\/span>\"\n  \"<span class=sf-dump-key>SERVER_PROTOCOL<\/span>\" => \"<span class=sf-dump-str title=\"8 characters\">HTTP\/1.1<\/span>\"\n  \"<span class=sf-dump-key>REQUEST_METHOD<\/span>\" => \"<span class=sf-dump-str title=\"4 characters\">POST<\/span>\"\n  \"<span class=sf-dump-key>QUERY_STRING<\/span>\" => \"\"\n  \"<span class=sf-dump-key>REQUEST_URI<\/span>\" => \"<span class=sf-dump-str title=\"29 characters\">\/api\/findOrCreateUserFacebook<\/span>\"\n  \"<span class=sf-dump-key>SCRIPT_NAME<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">\/index.php<\/span>\"\n  \"<span class=sf-dump-key>PHP_SELF<\/span>\" => \"<span class=sf-dump-str title=\"10 characters\">\/index.php<\/span>\"\n  \"<span class=sf-dump-key>REQUEST_TIME_FLOAT<\/span>\" => <span class=sf-dump-num>1559869454.199<\/span>\n  \"<span class=sf-dump-key>REQUEST_TIME<\/span>\" => <span class=sf-dump-num>1559869454<\/span>\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-542595124\", {\"maxDepth\":0})<\/script>\n","request_cookies":"<pre class=sf-dump id=sf-dump-1359028417 data-indent-pad=\"  \">[]\n<\/pre><script>Sfdump(\"sf-dump-1359028417\", {\"maxDepth\":0})<\/script>\n","response_headers":"<pre class=sf-dump id=sf-dump-826108026 data-indent-pad=\"  \"><span class=sf-dump-note>array:5<\/span> [<samp>\n  \"<span class=sf-dump-key>cache-control<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"17 characters\">no-cache, private<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>date<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"29 characters\">Fri, 07 Jun 2019 01:04:14 GMT<\/span>\"\n  <\/samp>]\n  \"<span class=sf-dump-key>x-ratelimit-limit<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => <span class=sf-dump-num>60<\/span>\n  <\/samp>]\n  \"<span class=sf-dump-key>x-ratelimit-remaining<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => <span class=sf-dump-num>59<\/span>\n  <\/samp>]\n  \"<span class=sf-dump-key>content-type<\/span>\" => <span class=sf-dump-note>array:1<\/span> [<samp>\n    <span class=sf-dump-index>0<\/span> => \"<span class=sf-dump-str title=\"24 characters\">text\/html; charset=UTF-8<\/span>\"\n  <\/samp>]\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-826108026\", {\"maxDepth\":0})<\/script>\n","session_attributes":"<pre class=sf-dump id=sf-dump-368023205 data-indent-pad=\"  \"><span class=sf-dump-note>array:2<\/span> [<samp>\n  \"<span class=sf-dump-key>_token<\/span>\" => \"<span class=sf-dump-str title=\"40 characters\">oncr7amAXrkIHSoH0p07nr2z4H0hQ6mP7uvH5tWf<\/span>\"\n  \"<span class=sf-dump-key>PHPDEBUGBAR_STACK_DATA<\/span>\" => []\n<\/samp>]\n<\/pre><script>Sfdump(\"sf-dump-368023205\", {\"maxDepth\":0})<\/script>\n"}}